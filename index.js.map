{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '47077986-634596916a6757457166893bd';\nconst BASE_URL = `https://pixabay.com/api/`;\n\nexport default function dataRequest(userRequest) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: `${userRequest}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${params}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","export default function makeMarkup(pictArray) {\n  return pictArray\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `\n            <li class=\"gallery-item\">\n                <div class=\"gallery-item-imgblock imgblock\">\n                    <a class=\"img-link\" href=\"${largeImageURL}\">\n\t\t                <img \n\t\t\t                class=\"gallery-image\" \n\t\t\t                src=\"${webformatURL}\" \n\t\t\t                alt=\"${tags}\" \n\t\t\t            />\n\t                </a>\n                </div>\n                <ul class=\"gallery-info info-list\">\n                    <li class=\"info-item\">\n                        <h6>Likes</h6>\n                        <p>${likes}</p>\n                    </li>\n                    <li class=\"info-item\">\n                        <h6>Views</h6>\n                        <p>${views}</p>\n                    </li>\n                    <li class=\"info-item\">\n                        <h6>Comments</h6>\n                        <p>${comments}</p>\n                    </li>\n                    <li class=\"info-item\">\n                        <h6>Downloads</h6>\n                        <p>${downloads}</p>\n                    </li>\n                </ul>\n            </li>\n        `;\n      }\n    )\n    .join('');\n}\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport dataRequest from './js/pixabay-api';\nimport makeMarkup from './js/render-functions';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', onBtnSubmit);\n\nlet onPictureClick = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n});\n\nonPictureClick.on('show.simplelightbox', function () {\n  onPictureClick.refresh();\n});\n\n\nfunction onBtnSubmit(event) {\n  event.preventDefault();\n\n  const userRequest = event.currentTarget.elements.search.value.trim();\n\n  if (userRequest === '') {\n    return alert('Please fill out the search form!');\n  }\n\n  dataRequest(userRequest)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please, try again!',\n          messageColor: '#FAFAFB',\n          backgroundColor: '#EF4040',\n          position: 'topRight',\n          color: '#FAFAFB',\n          iconUrl: '../img/svg/x-icon.svg',\n          iconColor: '#FAFAFB',\n        });\n      }\n      // console.log('then', makeMarkup(data.hits));\n      gallery.innerHTML = makeMarkup(data.hits);\n    })\n    .catch(error => console.log(error));\n\n  form.reset();\n}\n"],"names":["API_KEY","BASE_URL","dataRequest","userRequest","params","response","makeMarkup","pictArray","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","gallery","onBtnSubmit","onPictureClick","SimpleLightbox","event","data","iziToast","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEF,SAASC,EAAYC,EAAa,CAC/C,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAG,GAAGG,CAAW,GACjB,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAM,EAAE,EAAE,KAAKC,GAAY,CACrD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,KAAM,CAC1B,CAAG,CACH,CClBe,SAASC,EAAWC,EAAW,CAC5C,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA;AAAA,gDAGiCL,CAAa;AAAA;AAAA;AAAA,0BAGnCD,CAAY;AAAA,0BACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAODC,CAAK;AAAA;AAAA;AAAA;AAAA,6BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,6BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,6BAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,SAMtC,EACK,KAAK,EAAE,CACZ,CClCA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAEjDD,EAAK,iBAAiB,SAAUE,CAAW,EAE3C,IAAIC,EAAiB,IAAIC,EAAe,aAAc,CACpD,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EAEDD,EAAe,GAAG,sBAAuB,UAAY,CACnDA,EAAe,QAAS,CAC1B,CAAC,EAGD,SAASD,EAAYG,EAAO,CAC1BA,EAAM,eAAgB,EAEtB,MAAMjB,EAAciB,EAAM,cAAc,SAAS,OAAO,MAAM,KAAM,EAEpE,GAAIjB,IAAgB,GAClB,OAAO,MAAM,kCAAkC,EAGjDD,EAAYC,CAAW,EACpB,KAAKkB,GAAQ,CACRA,EAAK,KAAK,SAAW,GACvBC,EAAS,MAAM,CACb,QACE,4EACF,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,MAAO,UACP,QAAS,wBACT,UAAW,SACrB,CAAS,EAGHN,EAAQ,UAAYV,EAAWe,EAAK,IAAI,CACzC,CAAA,EACA,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAEpCR,EAAK,MAAO,CACd"}